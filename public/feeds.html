<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CYON SS Joachim and Anne Ijegun Web App</title>
    <link rel="stylesheet" href="css/style.css" />

    <!-- Font Awesome Icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>

  <body>
    <nav class="navbar">
      <div class="logo-section">
        <div class="logo">
          <img src="images/cyon-logo-png.png" alt="CYON Logo" class="logo" />
          <img
            src="images/ss-joachim-anne.jpeg"
            alt="Ss Joachim and Anne Logo"
            class="logo"
          />
        </div>

        <div class="logo-text">
          <div class="org-name">
            The Catholic Youth Organization of Nigeria
          </div>
          <div class="church-name">
            SS Joachim & Anne Catholic Church Ijegun
          </div>
        </div>

        <div class="nav-links" id="navlinks">
          <button id="showFeedsBtn" title="Feeds">
            <i class="fas fa-newspaper"></i>
          </button>
          <button id="showNotificationsBtn" title="Notifications">
            <i class="fas fa-bell"></i>
          </button>
          <button id="showAttendanceBtn" title="Attendance">
            <i class="fas fa-calendar-check"></i>
          </button>
          <button id="showDashboardBtn" title="Admin Dashboard">
            <i class="fas fa-user-shield"></i>
          </button>
          <button id="showProfileBtn" title="Profile">
            <i class="fas fa-user"></i>
          </button>
        </div>

        <button class="hamburger" id="hamburger" aria-label="Open menu">
          <i class="fas fa-bars"></i>
        </button>
      </div>
    </nav>

    <!-- Mobile dropdown menu -->
    <div class="mobile-menu" id="mobileMenu">
      <a href="#">Feeds</a>
      <a href="#">Notifications</a>
      <a href="#">Attendance</a>
      <a href="#">Admin Dashboard</a>
      <a href="#">My Profile</a>
    </div>

    <!-- Logout Button -->
    <button id="logoutBtn">Logout</button>

    <!-- Main Content Area -->
    <main id="mainContent">
      <!-- Post Form -->
      <section id="createPostSection" class="content-section active">
        <form id="postForm" enctype="multipart/form-data">
          <textarea
            id="postText"
            placeholder="What's on your mind?"
            rows="3"
          ></textarea>
          <img id="preview" style="display:none; max-width:200px; margin-top:10px;" alt="Image Preview" />
          <input type="file" id="postImage" accept="image/*" />
          <button type="submit">Post</button>
        </form>
      </section>

      <!-- Feeds Container -->
      <section id="feedsSection" class="content-section active">
        <div id="feedContainer">
          <!-- Feeds will be loaded here by JavaScript -->
          <div class="loading-message">Loading feeds...</div>
        </div>
      </section>

      <!-- Other sections (initially hidden) -->
      <section id="notificationsSection" class="content-section">
        <h2>Notifications</h2>
        <div id="notificationsContainer"></div>
      </section>

      <section id="attendanceSection" class="content-section">
        <h2>Attendance</h2>
        <div id="attendanceContainer"></div>
      </section>

      <section id="dashboardSection" class="content-section">
        <h2>Admin Dashboard</h2>
        <div id="dashboardContainer"></div>
      </section>

      <section id="profileSection" class="content-section">
        <h2>My Profile</h2>
        <div id="profileContainer"></div>
      </section>
    </main>

    <!-- Scripts -->
    <!-- Load Socket.IO first as it's a global dependency -->
    <script src="https://cdn.socket.io/4.7.5/socket.io.min.js"></script>
    
    <!-- Load utility scripts first -->
    <script src="js/auth.js"></script>
    <script src="js/nav.js"></script>
    
    <!-- Load feeds.js as a MODULE LAST - after DOM is ready -->
    <script type="module" src="./js/feeds.js"></script>
    
    <!-- Load other scripts -->
    <script src="js/dashboard.js"></script>
  </body>
</html>